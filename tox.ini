[tox]
envlist =
    py{27, 35, 37}


[testenv]
extras = testing
setenv =
    PYTHONPATH = {toxinidir}:{toxinidir}/tikibar
deps =
    -r{toxinidir}/requirements-test.txt

install_command = python -m pip install {opts} {packages}
allowlist_externals = mkdir
usedevelop = true

commands = 
    mkdir /tmp/test-results/{envname}
    python runtests.py --junit-prefix={envname} --junitxml=/tmp/test-results/{envname}/runtests.xml {posargs}
    coverage xml -o /tmp/coverage.xml
